Динамички полиморфизам - задаци
===============================

.. comment

    Пример игрице у којој учествују различити кaрактери

    .. code::

        abstract class Karakter
            PrikaziSe();
            
    Разни карактери се приказују на различите начине. 

    - Непокретан карактер може само да нацрта своју битмапу на својој локацији
    - Покретан карактер може да користи једну од неколико битмапа, зависно од тога да ли стоји или се креће у неком смеру
    - Неки карактери могу да се приказују помоћу две или више битмапа (нпр. према томе како држе оружје)
    - Неки карактери могу да преко своје битмапе нацртају одређене ефекте у складу са акцијом коју предузимају





.. comment


    Пример динамичког полиморфизма
    ------------------------------

    У примеру који следи појављују се два истоимена метода ``f``, један у класи ``B``, а други у класи 
    ``C``. Овакво појављивање истоимених метода је такође један облик полиморфизма, али другачији од 
    оног који познајемо од раније. 

    .. activecode:: dinamicki_polimorfizam-abstr
        :passivecode: true
        :includesrc: src/primeri/nasl_dinamicki_polimorfizam-abstr.cs

    У случају да у датом примеру корисник унесе слово ``b``, биће позван конструктор класе ``B``, а 
    у противном ће бити позван конструктор класе ``C``. Након тога, позива се метод ``f`` оне класе 
    чији конструктор је креирао објекат ``a`` (испробајте ово). 

    Очигледно, компајлер у време превођења програма на машински кôд не може да зна да ли ће објекат 
    ``a`` бити креиран конструктором класе ``B`` или класе ``C``. Самим тим, компајлер не може да 
    разреши на који метод ``a`` се односи позив ``a.f()``. Ова дилема може да се разреши једино у 
    време извршавања програма, па се зато овај облик полиморфизма назива динамички полиморфизам. 
    Подсетимо се, за разлику од овог облика полиморфизма, статички полиморфизам представља појаву 
    истоимених метода у једној класи, а може да се разреши (и разрешава се) у време компајлирања 
    јер се такви истоимени методи разликују по листама параметара.

    .. reveal:: jedinstveni_id
        :showtitle: Како се разрешава динамички полиморфизам?
        :hidetitle: Сакриј текст о разрешавању динамичког полиморфизма

        **Како се разрешава динамички полиморфизам?**

        За класу која има накнадно дефинисане или редефинисане методе, компајлер формира табелу у којој 
        сваки ред табеле одговара једном таквом методу. Када се објекат инстанцира, та табела се попуњава 
        адресама актуелних (стварних) метода. Касније, када неки од метода буде позван, у табели се 
        проналази адреса конкретног метода који треба позвати. 
        
        За више информација, потражите појам **табела виртуелних метода** 
        (`virtual method table <https://en.wikipedia.org/wiki/Virtual_method_table>`_).
    